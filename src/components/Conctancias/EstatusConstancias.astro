---
const { frontmatter } = Astro.props;
---

<!-- Modal toggle -->
<hr class="w-48 h-1 mx-auto my-4 bg-gray-100 border-0 rounded-sm md:my-10" />
<div class="flex justify-center">
    <button
        data-modal-target="timeline-modal"
        data-modal-toggle="timeline-modal"
        class="block text-white bg-gray-600 hover:bg-gray-700 focus:ring-4 focus:outline-none focus:ring-gray-300 font-medium rounded-full text-sm px-5 py-2.5 text-center"
        type="button"
    >
        Ver estatus de su constancia
    </button>
</div>

<!-- Main modal -->
<div
    id="timeline-modal"
    tabindex="-1"
    aria-hidden="true"
    class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"
>
    <div class="relative p-4 w-full max-w-md max-h-full">
        <!-- Modal content -->
        <div class="relative bg-white rounded-lg shadow-sm">
            <!-- Modal header -->
            <div
                class="flex items-center justify-between p-4 md:p-5 border-b rounded-t border-gray-200"
            >
                <h3 class="text-lg font-semibold text-gray-900">
                    Estatus actual de su constancia:
                </h3>
                <button
                    type="button"
                    class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm h-8 w-8 ms-auto inline-flex justify-center items-center"
                    data-modal-toggle="timeline-modal"
                >
                    <svg
                        class="w-3 h-3"
                        aria-hidden="true"
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 14 14"
                    >
                        <path
                            stroke="currentColor"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"></path>
                    </svg>
                    <span class="sr-only">Close modal</span>
                </button>
            </div>
            <!-- Modal body -->
            <div class="p-4 md:p-5">
                <ol
                    class="relative border-s border-gray-200 ms-3.5 mb-4 md:mb-5"
                >
                    <!-- Paso cero -->
                    <li class="mb-10 ms-8">
                        <span
                            class="bg-blue-100 text-blue-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded-sm"
                        >
                            Completado
                        </span>
                        <span
                            class="absolute flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full -start-3.5 ring-8 ring-white"
                        >
                            <i class="fa-regular fa-file-lines text-xs"></i>
                        </span>
                        <h3
                            class="flex items-start mb-1 text-lg font-semibold text-gray-900"
                        >
                            Inscripción y pago completados
                        </h3>
                        <time
                            class="block mb-3 text-sm font-normal leading-none text-gray-500"
                        ></time>
                    </li>
                    <li class="mb-10 ms-8">
                        <!-- Paso 1 -->
                        {
                            frontmatter.estatus == "Uno" ? (
                                <span class="bg-green-100 text-green-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded-sm">
                                    Actual
                                </span>
                            ) : frontmatter.estatus == "Dos" ||
                              frontmatter.estatus == "Tres" ||
                              frontmatter.estatus == "Cuatro" ? (
                                <span class="bg-blue-100 text-blue-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded-sm">
                                    Completado
                                </span>
                            ) : (
                                <span class="bg-gray-100 text-gray-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded-sm">
                                    No iniciado
                                </span>
                            )
                        }
                        <span
                            class="absolute flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full -start-3.5 ring-8 ring-white"
                        >
                            <i class="fa-solid fa-check text-xs"></i>
                        </span>
                        <h3
                            class="flex items-start mb-1 text-lg font-semibold text-gray-900"
                        >
                            Datos para su constancia confirmados
                        </h3>
                        <time
                            class="block mb-3 text-sm font-normal leading-none text-gray-500"
                            >Ustede a confirmado via correo electronico que
                            todos sus datos son correctos</time
                        >

                        {
                            frontmatter.estatus == "Uno" ? (
                                <div class="pt-4">
                                    <a
                                        class="py-2 px-3 bg-gray-300 rounded-full text-xs"
                                        id="correo-link"
                                        href={
                                            "mailto:clrhc@acatlan.unam.mx?subject=Corrección,%20datos%20constancia:%20TICKET%20" +
                                            frontmatter.ID +
                                            "&body=Confirmo%20que%20mis%20datos%20son%20correctos%20/%20Quiero%20hacer%20una%20aclaración%20sobre%20mis%20datos%0A%0AEnviado%20desde%20la%20plataforma%20de%20ayuda."
                                        }
                                    >
                                        Confirmar / Correción de datos
                                    </a>
                                </div>
                            ) : (
                                ""
                            )
                        }
                    </li>
                    <li class="mb-10 ms-8">
                        <!-- Paso 2 -->
                        {
                            frontmatter.estatus == "Dos" ? (
                                <span class="bg-green-100 text-green-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded-sm">
                                    Actual
                                </span>
                            ) : frontmatter.estatus == "Tres" ||
                              frontmatter.estatus == "Cuatro" ? (
                                <span class="bg-blue-100 text-blue-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded-sm">
                                    Completado
                                </span>
                            ) : (
                                <span class="bg-gray-100 text-gray-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded-sm">
                                    No iniciado
                                </span>
                            )
                        }
                        <span
                            class="absolute flex items-center justify-center w-6 h-6 bg-gray-100 rounded-full -start-3.5 ring-8 ring-white"
                        >
                            <i class="fa-regular fa-user text-xs"></i>
                        </span>
                        <h3 class="mb-1 text-lg font-semibold text-gray-900">
                            Participación completada
                        </h3>
                        <time
                            class="block mb-3 text-sm font-normal leading-none text-gray-500"
                            >Una vez terminada su participación durante el
                            congreso empezaremos a trabajar en la emisión vía
                            correo electrónico de su constancia</time
                        >
                    </li>
                    <li class="ms-8">
                        <!-- Paso 3 -->
                        {
                            frontmatter.estatus == "Tres" ? (
                                <span class="bg-green-100 text-green-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded-sm">
                                    Actual
                                </span>
                            ) : frontmatter.estatus == "Cuatro" ? (
                                <span class="bg-blue-100 text-blue-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded-sm">
                                    Completado
                                </span>
                            ) : (
                                <span class="bg-gray-100 text-gray-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded-sm">
                                    No iniciado
                                </span>
                            )
                        }
                        <span
                            class="absolute flex items-center justify-center w-6 h-6 bg-gray-100 rounded-full -start-3.5 ring-8 ring-white"
                        >
                            <i class="fa-regular fa-envelope text-xs"></i>
                        </span>
                        <h3 class="mb-1 text-lg font-semibold text-gray-900">
                            Constancia via correo electrónico
                        </h3>
                        <time
                            class="block mb-3 text-sm font-normal leading-none text-gray-500"
                            >Usted a recibido su constancia en su correo
                            electrónico</time
                        >
                    </li>
                </ol>
            </div>
        </div>
    </div>
</div>
